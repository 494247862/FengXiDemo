{"remainingRequest":"D:\\svn\\FengXiDemo\\FengXiDemoVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\svn\\FengXiDemo\\FengXiDemoVue\\src\\views\\MenuManage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\svn\\FengXiDemo\\FengXiDemoVue\\src\\views\\MenuManage\\index.vue","mtime":1695195867541},{"path":"D:\\svn\\FengXiDemo\\FengXiDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\FengXiDemo\\FengXiDemoVue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\svn\\FengXiDemo\\FengXiDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\FengXiDemo\\FengXiDemoVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7UXVlcnlNZW51RGF0YSwgZGVsZXRlTWVudX0gZnJvbSAnQC9hcGkvbWVudScKaW1wb3J0IFVwZGF0ZSBmcm9tICdAL3ZpZXdzL01lbnVNYW5hZ2UvVXBkYXRlJwppbXBvcnQgQWRkIGZyb20gJ0Avdmlld3MvTWVudU1hbmFnZS9BZGQnCmltcG9ydCBCdXR0b25FZGl0IGZyb20gJ0Avdmlld3MvTWVudU1hbmFnZS9CdXR0b25FZGl0JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNZW51TWFuYWdlJywKICBjb21wb25lbnRzOiB7QnV0dG9uRWRpdCwgVXBkYXRlLCBBZGR9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbGlja1JvdzogbnVsbCwKICAgICAgVGFibGVEYXRhOiBbXSwKICAgICAgUXVlcnlEYXRhOiB7CiAgICAgICAgbWVudU5hbWU6IG51bGwsCiAgICAgICAgbWVudUNvZGU6IG51bGwsCiAgICAgICAgbWVudVVybDogbnVsbAogICAgICB9LAogICAgICBpc1Nob3dVcGRhdGU6IGZhbHNlLAogICAgICBpc1Nob3dBZGQ6IGZhbHNlLAogICAgICBpc1Nob3dCdXR0b246IGZhbHNlCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5RdWVyeVRhYmxlRGF0YSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmuIXnqboKICAgIGNsZWFyUXVlcnlEYXRhKCkgewogICAgICB0aGlzLlF1ZXJ5RGF0YSA9IHsKICAgICAgICBtZW51TmFtZTogbnVsbCwKICAgICAgICBtZW51Q29kZTogbnVsbCwKICAgICAgICBtZW51VXJsOiBudWxsCiAgICAgIH0KICAgIH0sCiAgICAvLyDmn6Xor6LmlbDmja4KICAgIFF1ZXJ5VGFibGVEYXRhKCkgewogICAgICBRdWVyeU1lbnVEYXRhKHRoaXMuUXVlcnlEYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5UYWJsZURhdGEgPSByZXMKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICB0aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIC8vIOaJk+W8gOe8lui+keeql+WPowogICAgb3BlblVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5jbGlja1JvdyA9IHJvdwogICAgICB0aGlzLmlzU2hvd1VwZGF0ZSA9IHRydWUKICAgIH0sCiAgICAvLyDlhbPpl63nvJbovpHnqpflj6MKICAgIGNsb3NlVXBkYXRlKCkgewogICAgICB0aGlzLmlzU2hvd1VwZGF0ZSA9IGZhbHNlCiAgICAgIHRoaXMuUXVlcnlUYWJsZURhdGEoKQogICAgfSwKCiAgICAvLyDmiZPlvIDmlrDlop7nqpflj6MKICAgIG9wZW5BZGQocm93KSB7CiAgICAgIHRoaXMuY2xpY2tSb3cgPSByb3cKICAgICAgdGhpcy5pc1Nob3dBZGQgPSB0cnVlCiAgICB9LAoKICAgIC8vIOWFs+mXreaWsOWinueql+WPowogICAgY2xvc2VBZGQoKSB7CiAgICAgIHRoaXMuaXNTaG93QWRkID0gZmFsc2UKICAgICAgdGhpcy5RdWVyeVRhYmxlRGF0YSgpCiAgICB9LAoKICAgIC8vIOaJk+W8gOaMiemSrueql+WPowogICAgb3BlbkJ1dHRvbihyb3cpIHsKICAgICAgdGhpcy5jbGlja1JvdyA9IHJvdwogICAgICB0aGlzLmlzU2hvd0J1dHRvbiA9IHRydWUKICAgIH0sCgogICAgLy8g5Yig6Zmk6I+c5Y2VCiAgICBkZWxldGVSb3cocm93KSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuWIoOmZpOivpeiPnOWNle+8n+iPnOWNleWQje+8micgKyByb3cubWVudU5hbWUsICfliKDpmaToj5zljZUnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognCiAgICAgIH0pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIGF3YWl0IGRlbGV0ZU1lbnUocm93LmlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLiRub3RpZnkuc3VjY2Vzcyh7CiAgICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJywKICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnycKICAgICAgICAgIH0pCiAgICAgICAgICB0aGlzLlF1ZXJ5VGFibGVEYXRhKCkKICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgdGl0bGU6ICflpLHotKUnLAogICAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CgogICAgICB9KQoKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/MenuManage","sourcesContent":["<!--菜单管理-->\n<template>\n  <div class=\"app-container\" style=\"height:100%\">\n    <el-row>\n      <!--      查询条件按-->\n      <el-card style=\"height: 100%\">\n        <el-form label-width=\"80px\" label-position=\"right\" :inline=\"true\" :model=\"QueryData\">\n          <el-form-item label=\"菜单名称:\">\n            <el-input v-model=\"QueryData.menuName\"/>\n          </el-form-item>\n          <el-form-item label=\"菜单编号:\">\n            <el-input v-model=\"QueryData.menuCode\"/>\n          </el-form-item>\n          <el-form-item label=\"菜单地址:\">\n            <el-input v-model=\"QueryData.menuUrl\"/>\n          </el-form-item>\n          <el-form-item class=\"submit-button\">\n            <el-button @click=\"clearQueryData\">清空</el-button>\n          </el-form-item>\n          <el-form-item class=\"submit-button\">\n            <el-button @click=\"QueryTableData\">查询</el-button>\n          </el-form-item>\n        </el-form>\n      </el-card>\n    </el-row>\n\n    <el-row style=\"height: calc(100% - 100px)\">\n      <el-card style=\"height: 100%\">\n        <div slot=\"header\" style=\"width: 100%;\n        display: flex;align-items: center;\n          justify-content: space-between;\">\n          <div>\n            <i class=\"el-icon-s-grid\"></i>\n            <span style=\"margin-left: 5px;\">菜单数据</span>\n          </div>\n          <div>\n            <el-button @click=\"openAdd(null)\" size=\"small\" type=\"primary\" v-if=\"$authButton('add')\">新增</el-button>\n          </div>\n        </div>\n\n        <!--    表格数据-->\n        <el-table\n          row-key=\"id\"\n          lazy\n          :tree-props=\"{children:'children',hasChildren:true}\"\n          :data=\"TableData\"\n          :header-cell-style=\"{'text-align': 'center'}\"\n          :cell-style=\"{'text-align': 'center'}\"\n          style=\"width: 100%;overflow-y: auto\"\n          border>\n          <el-table-column\n            prop=\"menuName\"\n            label=\"菜单名称\">\n          </el-table-column>\n\n          <el-table-column\n            prop=\"menuCode\"\n            label=\"菜单编号\">\n          </el-table-column>\n\n          <el-table-column\n            prop=\"menuUrl\"\n            label=\"菜单地址\">\n          </el-table-column>\n\n          <el-table-column\n            prop=\"number\"\n            label=\"序号\">\n          </el-table-column>\n\n          <el-table-column\n            label=\"图标\">\n            <template slot-scope=\"scope\">\n              <div v-if=\"scope.row.icon\">\n                <i v-if=\"scope.row.icon.indexOf('el-icon')!==-1\" :class=\"[scope.row.icon, 'sub-el-icon']\"/>\n                <svg-icon v-if=\"scope.row.icon.indexOf('el-icon')===-1\" :icon-class=\"scope.row.icon\"/>\n              </div>\n            </template>\n          </el-table-column>\n\n          <el-table-column\n            fixed=\"right\"\n            label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-button\n                v-if=\"$authButton('delete')\"\n                style=\"color: red\"\n                type=\"text\"\n                @click=\"deleteRow(scope.row)\"\n                size=\"mini\">删除\n              </el-button>\n              <el-button\n                v-if=\"$authButton('addChild')\"\n                type=\"text\"\n                @click=\"openAdd(scope.row)\"\n                size=\"mini\">新增子菜单\n              </el-button>\n              <el-button\n                v-if=\"$authButton('update')\"\n                @click=\"openUpdate(scope.row)\"\n                type=\"text\"\n                size=\"mini\">编辑\n              </el-button>\n\n              <el-button\n                v-if=\"$authButton('buttonSetting')\"\n                @click=\"openButton(scope.row)\"\n                type=\"text\"\n                size=\"mini\">按钮配置\n              </el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-card>\n    </el-row>\n\n    <!--    编辑窗体-->\n    <el-dialog title=\"编辑菜单\"\n               width=\"25%\"\n               :visible.sync=\"isShowUpdate\"\n               v-if=\"isShowUpdate\"\n               :close-on-click-modal=\"false\">\n      <Update :row=\"this.clickRow\" :close-fun=\"this.closeUpdate\"/>\n    </el-dialog>\n    <!--    新增窗体-->\n    <el-dialog title=\"新增菜单\"\n               width=\"25%\"\n               :visible.sync=\"isShowAdd\"\n               :close-on-click-modal=\"false\"\n               v-if=\"isShowAdd\">\n      <Add :close-fun=\"closeAdd\" :row=\"this.clickRow\"/>\n    </el-dialog>\n    <!--    按钮配置-->\n    <el-dialog title=\"按钮配置\"\n               :visible.sync=\"isShowButton\"\n               :close-on-click-modal=\"false\"\n               v-if=\"isShowButton\">\n      <ButtonEdit :row=\"this.clickRow\"/>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {QueryMenuData, deleteMenu} from '@/api/menu'\n  import Update from '@/views/MenuManage/Update'\n  import Add from '@/views/MenuManage/Add'\n  import ButtonEdit from '@/views/MenuManage/ButtonEdit'\n\n  export default {\n    name: 'MenuManage',\n    components: {ButtonEdit, Update, Add},\n    data() {\n      return {\n        clickRow: null,\n        TableData: [],\n        QueryData: {\n          menuName: null,\n          menuCode: null,\n          menuUrl: null\n        },\n        isShowUpdate: false,\n        isShowAdd: false,\n        isShowButton: false\n      }\n    },\n    mounted() {\n      this.QueryTableData()\n    },\n    methods: {\n      // 清空\n      clearQueryData() {\n        this.QueryData = {\n          menuName: null,\n          menuCode: null,\n          menuUrl: null\n        }\n      },\n      // 查询数据\n      QueryTableData() {\n        QueryMenuData(this.QueryData).then(res => {\n          this.TableData = res\n        }).catch(err => {\n          this.$notify.error({\n            title: '错误',\n            message: err.message\n          })\n        })\n      },\n      // 打开编辑窗口\n      openUpdate(row) {\n        this.clickRow = row\n        this.isShowUpdate = true\n      },\n      // 关闭编辑窗口\n      closeUpdate() {\n        this.isShowUpdate = false\n        this.QueryTableData()\n      },\n\n      // 打开新增窗口\n      openAdd(row) {\n        this.clickRow = row\n        this.isShowAdd = true\n      },\n\n      // 关闭新增窗口\n      closeAdd() {\n        this.isShowAdd = false\n        this.QueryTableData()\n      },\n\n      // 打开按钮窗口\n      openButton(row) {\n        this.clickRow = row\n        this.isShowButton = true\n      },\n\n      // 删除菜单\n      deleteRow(row) {\n        this.$confirm('是否删除该菜单？菜单名：' + row.menuName, '删除菜单', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消'\n        }).then(async () => {\n          await deleteMenu(row.id).then(res => {\n            this.$notify.success({\n              title: '成功',\n              message: '删除成功'\n            })\n            this.QueryTableData()\n          }).catch(err => {\n            this.$notify.error({\n              title: '失败',\n              message: err.message\n            })\n          })\n        }).catch(() => {\n\n        })\n\n      }\n    },\n  }\n</script>\n\n<style scoped>\n  .el-row {\n    margin-bottom: 10px;\n  }\n\n  .el-row:last-child {\n    margin-bottom: 0\n  }\n\n  .el-form-item {\n    margin-bottom: 0\n  }\n\n  /*强修改表格展开按钮位置*/\n  >>> .el-table__expand-icon {\n    position: absolute;\n    left: 10px\n  }\n</style>\n"]}]}