{"remainingRequest":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\svn\\DeyiBaseDemoVue\\src\\views\\DepartmentManage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\svn\\DeyiBaseDemoVue\\src\\views\\DepartmentManage\\index.vue","mtime":1686639387782},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBZGQgZnJvbSAnQC92aWV3cy9EZXBhcnRtZW50TWFuYWdlL0FkZCcKaW1wb3J0IHsgZ2V0RGVwYXJ0bWVudFRyZWUgfSBmcm9tICdAL2FwaS9kZXBhcnRtZW50JwppbXBvcnQgVXBkYXRlIGZyb20gJ0Avdmlld3MvRGVwYXJ0bWVudE1hbmFnZS9VcGRhdGUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RlcGFydG1lbnRNYW5hZ2UnLAogIGNvbXBvbmVudHM6IHsgVXBkYXRlLCBBZGQgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTaG93QWRkOiBmYWxzZSwKICAgICAgaXNTaG93VXBkYXRlOiBmYWxzZSwKICAgICAgY2xpY2tSb3c6IG51bGwsCiAgICAgIFRhYmxlRGF0YTogW10KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLlF1ZXJ5VGFibGVEYXRhKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIFF1ZXJ5VGFibGVEYXRhKCkgewogICAgICBnZXREZXBhcnRtZW50VHJlZSgpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLlRhYmxlRGF0YSA9IHJlcwogICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgIHRoaXMuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgb3BlbkFkZChyb3cpIHsKICAgICAgdGhpcy5pc1Nob3dBZGQgPSB0cnVlCiAgICAgIHRoaXMuY2xpY2tSb3cgPSByb3cKICAgIH0sCiAgICBvcGVuVXBkYXRlKHJvdykgewogICAgICB0aGlzLmNsaWNrUm93ID0gcm93CiAgICAgIHRoaXMuaXNTaG93VXBkYXRlID0gdHJ1ZQogICAgfSwKICAgIGNsb3NlQWRkKCkgewogICAgICB0aGlzLmlzU2hvd0FkZCA9IGZhbHNlCiAgICAgIHRoaXMuUXVlcnlUYWJsZURhdGEoKQogICAgfSwKICAgIC8vIOWFs+mXree8lui+keeql+WPowogICAgY2xvc2VVcGRhdGUoKSB7CiAgICAgIHRoaXMuaXNTaG93VXBkYXRlID0gZmFsc2UKICAgICAgdGhpcy5RdWVyeVRhYmxlRGF0YSgpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/DepartmentManage","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row>\n      <el-card style=\"height: 100%\">\n        <!--        头部-->\n        <div slot=\"header\" style=\"width: 100%;\n        display: flex;align-items: center;\n          justify-content: space-between;\">\n          <div>\n            <i class=\"el-icon-s-grid\"></i>\n            <span style=\"margin-left: 5px;\">部门数据</span>\n          </div>\n          <div>\n            <el-button size=\"small\" type=\"primary\" @click=\"openAdd(null)\">新增</el-button>\n          </div>\n        </div>\n        <!--        数据显示-->\n        <el-table\n          row-key=\"id\"\n          lazy\n          :tree-props=\"{children:'children',hasChildren:true}\"\n          :data=\"TableData\"\n          :header-cell-style=\"{'text-align': 'center'}\"\n          :cell-style=\"{'text-align': 'center'}\"\n          border\n          style=\"width: 100%\">\n          <el-table-column\n            prop=\"departmentCode\"\n            align=\"center\"\n            label=\"部门编号\">\n          </el-table-column>\n\n          <el-table-column\n            prop=\"departmentName\"\n            align=\"center\"\n            label=\"部门名称\">\n          </el-table-column>\n\n          <el-table-column\n            fixed=\"right\"\n            label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-button\n                @click=\"openAdd(scope.row)\"\n                type=\"text\"\n                size=\"mini\">新增子部门\n              </el-button>\n              <el-button\n                @click=\"openUpdate(scope.row)\"\n                type=\"text\"\n                size=\"mini\">编辑\n              </el-button>\n              <el-button\n                style=\"color: red\"\n                type=\"text\"\n                size=\"mini\">删除\n              </el-button>\n            </template>\n          </el-table-column>\n\n        </el-table>\n      </el-card>\n    </el-row>\n    <el-dialog title=\"新增部门\"\n               width=\"25%\"\n               v-if=\"isShowAdd\"\n               :close-on-click-modal=\"false\"\n               :visible.sync=\"isShowAdd\">\n      <Add :row=\"this.clickRow\" :close-fun=\"closeAdd\"/>\n    </el-dialog>\n\n    <el-dialog title=\"编辑部门\"\n               v-if=\"isShowUpdate\"\n               :close-on-click-modal=\"false\"\n               :visible.sync=\"isShowUpdate\"\n               width=\"25%\">\n      <Update :row=\"this.clickRow\" :close-fun=\"this.closeUpdate\"/>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import Add from '@/views/DepartmentManage/Add'\n  import { getDepartmentTree } from '@/api/department'\n  import Update from '@/views/DepartmentManage/Update'\n\n  export default {\n    name: 'DepartmentManage',\n    components: { Update, Add },\n    data() {\n      return {\n        isShowAdd: false,\n        isShowUpdate: false,\n        clickRow: null,\n        TableData: []\n      }\n    },\n    mounted() {\n      this.QueryTableData()\n    },\n    methods: {\n      QueryTableData() {\n        getDepartmentTree().then(res => {\n          this.TableData = res\n        }).catch(err => {\n          this.$notify.error({\n            title: '错误',\n            message: err.message\n          })\n        })\n      },\n      openAdd(row) {\n        this.isShowAdd = true\n        this.clickRow = row\n      },\n      openUpdate(row) {\n        this.clickRow = row\n        this.isShowUpdate = true\n      },\n      closeAdd() {\n        this.isShowAdd = false\n        this.QueryTableData()\n      },\n      // 关闭编辑窗口\n      closeUpdate() {\n        this.isShowUpdate = false\n        this.QueryTableData()\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /*强修改表格展开按钮位置*/\n  >>> .el-table__expand-icon {\n    position: absolute;\n    left: 10px\n  }\n</style>\n"]}]}