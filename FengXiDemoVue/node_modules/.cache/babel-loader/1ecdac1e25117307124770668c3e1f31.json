{"remainingRequest":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\babel-loader\\lib\\index.js!D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\svn\\DeyiBaseDemoVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\svn\\DeyiBaseDemoVue\\src\\views\\UserManage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\svn\\DeyiBaseDemoVue\\src\\views\\UserManage\\index.vue","mtime":1689328808488},{"path":"D:\\svn\\DeyiBaseDemoVue\\babel.config.js","mtime":1686639387190},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovc3ZuL0RleWlCYXNlRGVtb1Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkQ6L3N2bi9EZXlpQmFzZURlbW9WdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9zdm4vRGV5aUJhc2VEZW1vVnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBhZGRVc2VyLCB1cGRhdGVVc2VyLCBkZWxldGVVc2VyLCBnZXRBbGxVc2VyLCBxdWVyeVVzZXJEYXRhIH0gZnJvbSAnQC9hcGkvdXNlcic7CmltcG9ydCB7IGdldEFsbFJvbGVzIGFzIF9nZXRBbGxSb2xlcyB9IGZyb20gJ0AvYXBpL3JvbGUnOwppbXBvcnQgeyBnZXREZXBhcnRtZW50VHJlZSBhcyBfZ2V0RGVwYXJ0bWVudFRyZWUgfSBmcm9tICdAL2FwaS9kZXBhcnRtZW50JzsKaW1wb3J0IHsgdGltaW5nU2FmZUVxdWFsIH0gZnJvbSAnY3J5cHRvJzsKdmFyIGRlZmF1bHRVc2VyID0gewogIGlkOiAnJywKICBhY2NvdW50OiAnJywKICBuaWNrTmFtZTogJycsCiAgcGFzc3dvcmQ6ICcnLAogIHBob25lOiAnJywKICBzZXg6ICcnLAogIHJvbGVJZHM6ICcnCn07CnZhciBkZWZhdWx0UXVlcnkgPSB7CiAgYWNjb3VudDogJycsCiAgbmlja05hbWU6ICcnLAogIHBob25lOiAnJywKICBzZXg6ICcnLAogIHJvbGVJZHM6IFtdLAogIHBhZ2U6IDEsCiAgcGFnZVNpemU6IDEwCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVXNlck1hbmFnZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRVc2VyKSwKICAgICAgcXVlcnk6IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRRdWVyeSksCiAgICAgIG1lbnVzRGF0YTogW10sCiAgICAgIHVzZXJzTGlzdDogW10sCiAgICAgIHJvbGVzTGlzdDogW10sCiAgICAgIGNoZWNrUm9sZXM6IFtdLAogICAgICBkZXBhcnRtZW50SWRzOiBbXSwKICAgICAgcXVlcnlSb2xlczogW10sCiAgICAgIGRlcGFydG1lbnRPcHRpb25zOiBbXSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ1R5cGU6ICduZXcnLAogICAgICBjaGVja1N0cmljdGx5OiBmYWxzZSwKICAgICAgcGFzc3dvcmRUeXBlOiAncGFzc3dvcmQnLAogICAgICBjYXBzVG9vbHRpcDogZmFsc2UsCiAgICAgIHBhZ2VDb3VudDogMSwKICAgICAgY3VycmVudFBhZ2U6IDEKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRBbGxVc2VyKCk7CiAgICB0aGlzLmdldEFsbFJvbGVzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREZXBhcnRtZW50VHJlZTogZnVuY3Rpb24gZ2V0RGVwYXJ0bWVudFRyZWUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF9nZXREZXBhcnRtZW50VHJlZSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmRlcGFydG1lbnRPcHRpb25zID0gX3RoaXMuZGl5RGVwYXJ0bWVudFRyZWUocmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICfojrflj5bpg6jpl6jmlbDmja7plJnor68nLAogICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g6YCS5b2S5aSE55CG6YOo6Zeo5qCR55qE5pWw5o2uCiAgICBkaXlEZXBhcnRtZW50VHJlZTogZnVuY3Rpb24gZGl5RGVwYXJ0bWVudFRyZWUobGlzdCkgewogICAgICB2YXIgcmVzID0gW107CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIHJlcy5wdXNoKHRoaXMuZGl5RGVwYXJ0bWVudFRyZWVJdGVtKGxpc3RbaV0pKTsKICAgICAgfQogICAgICByZXR1cm4gcmVzOwogICAgfSwKICAgIGRpeURlcGFydG1lbnRUcmVlSXRlbTogZnVuY3Rpb24gZGl5RGVwYXJ0bWVudFRyZWVJdGVtKGRhdGEpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gW107CiAgICAgIHZhciByZXMgPSB7CiAgICAgICAgdmFsdWU6IGRhdGEuaWQsCiAgICAgICAgbGFiZWw6IGRhdGEuZGVwYXJ0bWVudE5hbWUKICAgICAgfTsKICAgICAgaWYgKGRhdGEuY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLmRpeURlcGFydG1lbnRUcmVlSXRlbShkYXRhLmNoaWxkcmVuW2ldKSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGNoaWxkcmVuID0gbnVsbDsKICAgICAgfQogICAgICByZXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgICAgcmV0dXJuIHJlczsKICAgIH0sCiAgICBzaXplQ2hhbmdlOiBmdW5jdGlvbiBzaXplQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLnF1ZXJ5LnBhZ2VTaXplID0gdmFsOwogICAgfSwKICAgIC8v6aG16Z2i5pS55Y+YCiAgICBwYWdlQ2hhbmdlOiBmdW5jdGlvbiBwYWdlQ2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICB0aGlzLnF1ZXJ5VGFibGVEYXRhKHZhbCk7CiAgICB9LAogICAgLy8g5riF56m6CiAgICBjbGVhclF1ZXJ5RGF0YTogZnVuY3Rpb24gY2xlYXJRdWVyeURhdGEoKSB7CiAgICAgIHRoaXMucXVlcnlSb2xlcyA9IFtdOwogICAgICB0aGlzLnF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFF1ZXJ5KTsKICAgIH0sCiAgICAvLyDmn6Xor6LmlbDmja4KICAgIHF1ZXJ5VGFibGVEYXRhOiBmdW5jdGlvbiBxdWVyeVRhYmxlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBzZWxlY3RQYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICB0aGlzLnF1ZXJ5LnJvbGVJZHMgPSB0aGlzLnF1ZXJ5Um9sZXM7CiAgICAgIHRoaXMucXVlcnkucGFnZSA9IHNlbGVjdFBhZ2U7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBzZWxlY3RQYWdlOwogICAgICBxdWVyeVVzZXJEYXRhKHRoaXMucXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi51c2Vyc0xpc3QgPSByZXMuZGF0YTsKICAgICAgICBfdGhpczIucGFnZUNvdW50ID0gcmVzLmNvdW50OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMyLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgY2hlY2tDYXBzbG9jazogZnVuY3Rpb24gY2hlY2tDYXBzbG9jayhlKSB7CiAgICAgIHZhciBrZXkgPSBlLmtleTsKICAgICAgdGhpcy5jYXBzVG9vbHRpcCA9IGtleSAmJiBrZXkubGVuZ3RoID09PSAxICYmIGtleSA+PSAnQScgJiYga2V5IDw9ICdaJzsKICAgIH0sCiAgICBzaG93UHdkOiBmdW5jdGlvbiBzaG93UHdkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgaWYgKHRoaXMucGFzc3dvcmRUeXBlID09PSAncGFzc3dvcmQnKSB7CiAgICAgICAgdGhpcy5wYXNzd29yZFR5cGUgPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICdwYXNzd29yZCc7CiAgICAgIH0KICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy4kcmVmcy5wYXNzd29yZC5mb2N1cygpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRBbGxSb2xlczogZnVuY3Rpb24gZ2V0QWxsUm9sZXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByb2xlczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX2dldEFsbFJvbGVzKCk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByb2xlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgX3RoaXM0LnJvbGVzTGlzdCA9IHJvbGVzOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0QWxsVXNlcjogZnVuY3Rpb24gZ2V0QWxsVXNlcigpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHF1ZXJ5VXNlckRhdGEodGhpcy5xdWVyeSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LnVzZXJzTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIF90aGlzNS5wYWdlQ291bnQgPSByZXMuY291bnQ7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczUuJG5vdGlmeS5lcnJvcih7CiAgICAgICAgICB0aXRsZTogJ+mUmeivrycsCiAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRDaGVja2VkUm9sZXM6IGZ1bmN0aW9uIGdldENoZWNrZWRSb2xlcyhyb2xlSWRzKSB7CiAgICAgIHZhciBkYXRhID0gW107CiAgICAgIGlmIChyb2xlSWRzICYmIHJvbGVJZHMubGVuZ3RoID4gMCkgewogICAgICAgIGRhdGEgPSByb2xlSWRzLnNwbGl0KCcsJykubWFwKE51bWJlcik7CiAgICAgIH0KICAgICAgcmV0dXJuIGRhdGE7CiAgICB9LAogICAgaGFuZGxlQWRkVXNlcjogZnVuY3Rpb24gaGFuZGxlQWRkVXNlcigpIHsKICAgICAgdGhpcy51c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFVzZXIpOwogICAgICB0aGlzLmNoZWNrUm9sZXMgPSBbXTsKICAgICAgdGhpcy5kZXBhcnRtZW50SWRzID0gW107CiAgICAgIHRoaXMuZGlhbG9nVHlwZSA9ICduZXcnOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZUVkaXQ6IGZ1bmN0aW9uIGhhbmRsZUVkaXQoc2NvcGUpIHsKICAgICAgdGhpcy5kaWFsb2dUeXBlID0gJ2VkaXQnOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmNoZWNrU3RyaWN0bHkgPSB0cnVlOwogICAgICB0aGlzLnVzZXIgPSBfb2JqZWN0U3ByZWFkKHt9LCBzY29wZS5yb3cpOwogICAgICB0aGlzLnVzZXIucGFzc3dvcmQgPSAnJzsKICAgICAgdGhpcy5jaGVja1JvbGVzID0gdGhpcy5nZXRDaGVja2VkUm9sZXModGhpcy51c2VyLnJvbGVJZHMpOwogICAgICB0aGlzLmRlcGFydG1lbnRJZHMgPSB0aGlzLmdldENoZWNrZWRSb2xlcyh0aGlzLnVzZXIuZGVwYXJ0bWVudElkcyk7CiAgICAgIHRoaXMuZ2V0RGVwYXJ0bWVudFRyZWUoKTsKICAgIH0sCiAgICBoYW5kbGVSZXNldDogZnVuY3Rpb24gaGFuZGxlUmVzZXQoc2NvcGUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczYudXNlciA9IF9vYmplY3RTcHJlYWQoe30sIHNjb3BlLnJvdyk7CiAgICAgICAgICAgICAgX3RoaXM2LnVzZXIucGFzc3dvcmQgPSAnMTIzNDUnOwogICAgICAgICAgICAgIF90aGlzNi4kY29uZmlybSgn56Gu5a6a6KaB6YeN572u5q2k55So5oi35a+G56CB5ZCX77yfJywgJ1dhcm5pbmcnLCB7CiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruiupCcsCiAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVVc2VyKF90aGlzNi51c2VyKTsKICAgICAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfph43nva7miJDlip8hJwogICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICAgICAgICAgIH0pKSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRBbGxVc2VyKCk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKF9yZWYyKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICB2YXIgJGluZGV4ID0gX3JlZjIuJGluZGV4LAogICAgICAgIHJvdyA9IF9yZWYyLnJvdzsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5Yig6Zmk5q2k55So5oi35ZCX77yfJywgJ1dhcm5pbmcnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7orqQnLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBkZWxldGVVc2VyKHJvdy5pZCk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpczcudXNlcnNMaXN0LnNwbGljZSgkaW5kZXgsIDEpOwogICAgICAgICAgICAgIF90aGlzNy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtVXNlcjogZnVuY3Rpb24gY29uZmlybVVzZXIoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXM4LiRyZWZzWydmb3JtUmVmJ10udmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgX3JlZjQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KHZhbGlkKSB7CiAgICAgICAgICAgICAgICAgIHZhciBpc0VkaXQsIF90aGlzOCR1c2VyLCBhY2NvdW50LCBuaWNrTmFtZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlzRWRpdCA9IF90aGlzOC5kaWFsb2dUeXBlID09PSAnZWRpdCc7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC51c2VyLnJvbGVJZHMgPSBfdGhpczguY2hlY2tSb2xlcy5qb2luKCkgPT09ICIiID8gbnVsbCA6IF90aGlzOC5jaGVja1JvbGVzLmpvaW4oKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnVzZXIuZGVwYXJ0bWVudElkcyA9IF90aGlzOC5kZXBhcnRtZW50SWRzLmpvaW4oKSA9PT0gIiIgPyBudWxsIDogX3RoaXM4LmRlcGFydG1lbnRJZHMuam9pbigpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRWRpdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVVc2VyKF90aGlzOC51c2VyKTsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGRVc2VyKF90aGlzOC51c2VyKTsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGF3YWl0IGdldEFsbFVzZXIoKQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczgucXVlcnlUYWJsZURhdGEoX3RoaXM4LmN1cnJlbnRQYWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM4JHVzZXIgPSBfdGhpczgudXNlciwgYWNjb3VudCA9IF90aGlzOCR1c2VyLmFjY291bnQsIG5pY2tOYW1lID0gX3RoaXM4JHVzZXIubmlja05hbWU7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aTjeS9nOaIkOWKnycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlVc2VIVE1MU3RyaW5nOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJcbiAgICAgICAgICAgIDxkaXY+XHU4RDI2XHU1M0Y3OiAiLmNvbmNhdChhY2NvdW50LCAiPC9kaXY+XG4gICAgICAgICAgICA8ZGl2Plx1NjYzNVx1NzlGMDogIikuY29uY2F0KG5pY2tOYW1lLCAiPC9kaXY+XG4gICAgICAgICAgIiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9KCkpOwogICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgOA,SACAA,SACAC,YACAC,YACAC,YACAC,qBACA;AACA;AACA;AACA;AAEA;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;AACA;AAEA;EACAL;EACAC;EACAE;EACAC;EACAC;EACAC;EACAC;AACA;AAEA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MAEAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACAA;QACA;MACA;QACA;UACAC;UACAC;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACAC;MACA;MACA;IACA;IACAC;MACA;MACA;QAAAC;QAAAC;MAAA;MACA;QACA;UACAC;QACA;MACA;QACAA;MACA;MACAJ;MACA;IACA;IACAK;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MAAA;MACA;MACA;MACA;MAEA1C,0BACA2C;QACA;QACA;MACA,GACAC;QACA;UACAb;UACAC;QACA;MACA;IACA;IACAa;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;MACA;QACA;MACA;MACA;QACA;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAA;YAAA;cAAAC;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IAEAjD;MAAA;MACAC,0BACA2C;QACA;QACA;MACA,GACAC;QACA;UACAb;UACAC;QACA;MACA;IACA;IAEAiB;MACA;MACA;QACAtC;MACA;MACA;IACA;IAEAuC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;cACA;cACA;gBACAC;gBACAC;gBACAC;cACA,GACAZ;gBAAA;kBAAA;oBAAA;sBAAA;sBAAA,OACA9C;oBAAA;sBACA;wBACA0D;wBACAvB;sBACA;oBAAA;oBAAA;sBAAA;kBAAA;gBAAA;cAAA,CACA,IACAY;gBACAY;cACA;cAAA;cAAA,OACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;IAEAC;MAAA;MAAA;QAAAC;MACA;QACAL;QACAC;QACAC;MACA,GACAZ;QAAA;UAAA;YAAA;cAAA;cAAA,OACA7C;YAAA;cACA;cACA;gBACAyD;gBACAvB;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CACA,IACAY;QACAY;MACA;IACA;IACAG;MAAA;MAAA;QAAA;UAAA;YAAA;cACA;gBAAA;kBAAA;kBAAA;oBAAA;sBAAA;wBAAA,KACAC;0BAAA;0BAAA;wBAAA;wBACAC;wBACA;wBACA;wBAAA,KACAA;0BAAA;0BAAA;wBAAA;wBAAA;wBAAA,OACAhE;sBAAA;wBAAA;wBAAA;sBAAA;wBAAA;wBAAA,OAEAD;sBAAA;wBAGA;wBACA;wBAAA,cAEA;wBACA;wBACA;0BACAmC;0BACA+B;0BACA9B,oDACA9B,2DACAC,+BACA;0BACAoD;wBACA;wBAAA;wBAAA;sBAAA;wBAAA,kCAEA;sBAAA;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA,CAEA;gBAAA;kBAAA;gBAAA;cAAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA","names":["addUser","updateUser","deleteUser","getAllUser","queryUserData","id","account","nickName","password","phone","sex","roleIds","page","pageSize","name","data","user","query","menusData","usersList","rolesList","checkRoles","departmentIds","queryRoles","departmentOptions","dialogVisible","dialogType","checkStrictly","passwordType","capsTooltip","pageCount","currentPage","created","methods","getDepartmentTree","title","message","diyDepartmentTree","res","diyDepartmentTreeItem","value","label","children","sizeChange","pageChange","clearQueryData","queryTableData","then","catch","checkCapslock","showPwd","getAllRoles","roles","getCheckedRoles","handleAddUser","handleEdit","handleReset","confirmButtonText","cancelButtonText","type","console","handleDelete","row","confirmUser","valid","isEdit","dangerouslyUseHTMLString"],"sourceRoot":"src/views/UserManage","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row>\n      <!--      查询条件按-->\n      <el-card style=\"height: 100%\">\n        <el-form\n          class=\"QueryForm\"\n          label-width=\"80px\"\n          label-position=\"right\"\n          :inline=\"true\"\n          :model=\"query\"\n        >\n          <el-form-item label=\"账号:\">\n            <el-input v-model=\"query.account\"/>\n          </el-form-item>\n          <el-form-item label=\"昵称:\">\n            <el-input v-model=\"query.nickName\"/>\n          </el-form-item>\n          <el-form-item label=\"联系方式:\">\n            <el-input v-model=\"query.phone\"/>\n          </el-form-item>\n          <el-form-item label=\"所属角色:\">\n            <el-select\n              v-model=\"queryRoles\"\n              multiple\n              filterable\n              style=\"width: 100%\"\n            >\n              <el-option\n                v-for=\"(role, index) in rolesList\"\n                :key=\"index\"\n                :label=\"role.roleName\"\n                :value=\"role.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item class=\"submit-button\">\n            <el-button @click=\"clearQueryData()\">清空</el-button>\n          </el-form-item>\n          <el-form-item class=\"submit-button\">\n            <el-button @click=\"queryTableData()\">查询</el-button>\n          </el-form-item>\n        </el-form>\n      </el-card>\n    </el-row>\n\n    <el-row style=\"margin-top: 10px\">\n      <!--      查询条件按-->\n      <el-card style=\"height: 100%\">\n        <div slot=\"header\" style=\"width: 100%;\n        display: flex;align-items: center;\n          justify-content: space-between;\">\n          <div>\n            <i class=\"el-icon-s-grid\"></i>\n            <span style=\"margin-left: 5px;\">用户数据</span>\n          </div>\n          <div>\n            <el-button @click=\"handleAddUser\" size=\"small\" type=\"primary\" v-if=\"$authButton('addUser')\"> 新增用户\n            </el-button>\n          </div>\n        </div>\n\n        <el-table\n          :data=\"usersList\"\n          style=\"width: 100%; margin-top: 30px\"\n          border\n        >\n          <el-table-column align=\"center\" label=\"账号\" width=\"220\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.account }}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"昵称\" width=\"220\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.nickName }}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"角色\">\n            <template slot-scope=\"scope\">\n              <el-tag v-for=\"(item,index) in scope.row.roleList\" style=\"margin-left: 10px;\" :key=\"index\">{{item}}\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"手机号\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.phone }}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"性别\">\n            <template slot-scope=\"scope\">\n              {{ scope.row.sex }}\n            </template>\n          </el-table-column>\n          <el-table-column align=\"center\" label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"text\" size=\"small\" @click=\"handleEdit(scope)\" v-if=\"$authButton('update')\">\n                编辑\n              </el-button>\n              <el-button style=\"color:orange\" type=\"text\" size=\"small\" @click=\"handleReset(scope)\"\n                         v-if=\"$authButton('resetPassword')\">\n                重置密码\n              </el-button>\n              <el-button\n                v-if=\"$authButton('delete')\"\n                style=\"color:red\"\n                type=\"text\"\n                size=\"small\"\n                @click=\"handleDelete(scope)\"\n              >删除\n              </el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"pagination\">\n          <el-pagination\n            background\n            layout=\"total, prev, pager, next, jumper\"\n            :total=\"pageCount\"\n            :current-page=\"currentPage\"\n            @current-change=\"pageChange\"\n            :page-sizes=\"[10, 20, 30, 50]\"\n            @size-change=\"sizeChange\"\n          >\n          </el-pagination>\n        </div>\n      </el-card>\n    </el-row>\n\n    <el-dialog\n      width=\"500px\"\n      :close-on-click-modal=\"false\"\n      :visible.sync=\"dialogVisible\"\n      :title=\"dialogType === 'edit' ? '编辑用户' : '新增用户'\"\n    >\n      <el-form :model=\"user\" label-width=\"80px\" ref=\"formRef\" label-position=\"right\">\n        <el-form-item label=\"账号\" prop=\"account\" :rules=\"[{ required: true, message: '账号不能为空'}]\">\n          <el-input\n            v-model=\"user.account\"\n            :readonly=\"dialogType === 'edit'\"\n            placeholder=\"请输入用户账号\"\n          />\n        </el-form-item>\n        <el-form-item label=\"昵称\">\n          <el-input v-model=\"user.nickName\" placeholder=\"请输入用户昵称\"/>\n        </el-form-item>\n        <el-form-item label=\"手机号\">\n          <el-input v-model=\"user.phone\" placeholder=\"请输入手机号\"/>\n        </el-form-item>\n        <el-form-item label=\"性别\">\n          <el-radio-group v-model=\"user.sex\" size=\"small\">\n            <el-radio-button label=\"男\"/>\n            <el-radio-button label=\"女\"/>\n          </el-radio-group>\n        </el-form-item>\n        <el-tooltip\n          v-model=\"capsTooltip\"\n          content=\"大写锁定\"\n          placement=\"right\"\n          manual\n        >\n          <el-form-item label=\"密码\" prop=\"password\"\n                        :rules=\"[{ required: dialogType!=='edit', message: '密码不能为空'}]\">\n            <el-input\n              class=\"pwd-input\"\n              readOnly\n              onfocus=\"this.removeAttribute('readonly');\"\n              onblur=\"this.setAttribute('readonly',true);\"\n              autocomplete=\"on\"\n              :key=\"passwordType\"\n              ref=\"password\"\n              v-model=\"user.password\"\n              :type=\"passwordType\"\n              placeholder=\"密码\"\n              name=\"password\"\n              tabindex=\"4\"\n              @keyup.native=\"checkCapslock\"\n              @blur=\"capsTooltip = false\"\n            />\n            <span class=\"show-pwd\" @click=\"showPwd\">\n              <svg-icon\n                :icon-class=\"passwordType === 'password' ? 'eye' : 'eye-open'\"\n              />\n            </span>\n          </el-form-item>\n        </el-tooltip>\n\n        <el-form-item label=\"选择角色\">\n          <el-select\n            v-model=\"checkRoles\"\n            multiple\n            filterable\n            style=\"width: 100%\"\n          >\n            <el-option\n              v-for=\"(role, index) in rolesList\"\n              :key=\"index\"\n              :label=\"role.roleName\"\n              :value=\"role.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"部门\">\n          <el-cascader\n            v-model=\"departmentIds\"\n            style=\"width: 100%\"\n            clearable\n            :props=\"{ checkStrictly: true ,emitPath: false,multiple: true}\"\n            :options=\"departmentOptions\">\n\n          </el-cascader>\n        </el-form-item>\n      </el-form>\n      <div style=\"text-align: right\">\n        <el-button type=\"danger\" @click=\"()=>{this.dialogVisible = false;this.user = {}}\">\n          取消\n        </el-button>\n        <el-button type=\"primary\" @click=\"confirmUser\"> 确认</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import {\n    addUser,\n    updateUser,\n    deleteUser,\n    getAllUser,\n    queryUserData\n  } from '@/api/user'\n  import {getAllRoles} from '@/api/role'\n  import {getDepartmentTree} from '@/api/department'\n  import {timingSafeEqual} from 'crypto'\n\n  const defaultUser = {\n    id: '',\n    account: '',\n    nickName: '',\n    password: '',\n    phone: '',\n    sex: '',\n    roleIds: ''\n  }\n\n  const defaultQuery = {\n    account: '',\n    nickName: '',\n    phone: '',\n    sex: '',\n    roleIds: [],\n    page: 1,\n    pageSize: 10\n  }\n\n  export default {\n    name: 'UserManage',\n    data() {\n      return {\n        user: Object.assign({}, defaultUser),\n        query: Object.assign({}, defaultQuery),\n        menusData: [],\n        usersList: [],\n        rolesList: [],\n\n        checkRoles: [],\n        departmentIds: [],\n        queryRoles: [],\n        departmentOptions: [],\n\n        dialogVisible: false,\n        dialogType: 'new',\n        checkStrictly: false,\n        passwordType: 'password',\n        capsTooltip: false,\n\n        pageCount: 1,\n        currentPage: 1\n      }\n    },\n    created() {\n      this.getAllUser()\n      this.getAllRoles()\n    },\n    methods: {\n      getDepartmentTree() {\n        getDepartmentTree().then(res => {\n          this.departmentOptions = this.diyDepartmentTree(res)\n        }).catch(err => {\n          this.$notify.error({\n            title: '获取部门数据错误',\n            message: err.message\n          })\n        })\n      },\n      // 递归处理部门树的数据\n      diyDepartmentTree(list) {\n        let res = []\n        for (let i = 0; i < list.length; i++) {\n          res.push(this.diyDepartmentTreeItem(list[i]))\n        }\n        return res\n      },\n      diyDepartmentTreeItem(data) {\n        let children = []\n        let res = {value: data.id, label: data.departmentName}\n        if (data.children.length > 0) {\n          for (let i = 0; i < data.children.length; i++) {\n            children.push(this.diyDepartmentTreeItem(data.children[i]))\n          }\n        } else {\n          children = null\n        }\n        res.children = children\n        return res\n      },\n      sizeChange(val) {\n        this.query.pageSize = val\n      },\n      //页面改变\n      pageChange(val) {\n        this.currentPage = val\n        this.queryTableData(val)\n      },\n      // 清空\n      clearQueryData() {\n        this.queryRoles = []\n        this.query = Object.assign({}, defaultQuery)\n      },\n      // 查询数据\n      queryTableData(selectPage = 1) {\n        this.query.roleIds = this.queryRoles\n        this.query.page = selectPage\n        this.currentPage = selectPage\n\n        queryUserData(this.query)\n          .then((res) => {\n            this.usersList = res.data\n            this.pageCount = res.count\n          })\n          .catch((err) => {\n            this.$notify.error({\n              title: '错误',\n              message: err.message\n            })\n          })\n      },\n      checkCapslock(e) {\n        const {key} = e\n        this.capsTooltip = key && key.length === 1 && key >= 'A' && key <= 'Z'\n      },\n      showPwd() {\n        if (this.passwordType === 'password') {\n          this.passwordType = ''\n        } else {\n          this.passwordType = 'password'\n        }\n        this.$nextTick(() => {\n          this.$refs.password.focus()\n        })\n      },\n\n      async getAllRoles() {\n        const roles = await getAllRoles()\n        this.rolesList = roles\n      },\n\n      getAllUser() {\n        queryUserData(this.query)\n          .then((res) => {\n            this.usersList = res.data\n            this.pageCount = res.count\n          })\n          .catch((err) => {\n            this.$notify.error({\n              title: '错误',\n              message: err.message\n            })\n          })\n      },\n\n      getCheckedRoles(roleIds) {\n        let data = []\n        if (roleIds && roleIds.length > 0) {\n          data = roleIds.split(',').map(Number)\n        }\n        return data\n      },\n\n      handleAddUser() {\n        this.user = Object.assign({}, defaultUser)\n        this.checkRoles = []\n        this.departmentIds = []\n        this.dialogType = 'new'\n        this.dialogVisible = true\n      },\n      handleEdit(scope) {\n        this.dialogType = 'edit'\n        this.dialogVisible = true\n        this.checkStrictly = true\n        this.user = {...scope.row}\n        this.user.password = ''\n        this.checkRoles = this.getCheckedRoles(this.user.roleIds)\n        this.departmentIds = this.getCheckedRoles(this.user.departmentIds)\n        this.getDepartmentTree()\n      },\n      async handleReset(scope) {\n        this.user = {...scope.row}\n        this.user.password = '12345'\n        this.$confirm('确定要重置此用户密码吗？', 'Warning', {\n          confirmButtonText: '确认',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n          .then(async () => {\n            await updateUser(this.user)\n            this.$message({\n              type: 'success',\n              message: '重置成功!'\n            })\n          })\n          .catch((err) => {\n            console.log(err)\n          })\n        await this.getAllUser()\n      },\n\n      handleDelete({$index, row}) {\n        this.$confirm('确定要删除此用户吗？', 'Warning', {\n          confirmButtonText: '确认',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n          .then(async () => {\n            await deleteUser(row.id)\n            this.usersList.splice($index, 1)\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            })\n          })\n          .catch((err) => {\n            console.error(err)\n          })\n      },\n      async confirmUser() {\n        this.$refs['formRef'].validate(async valid => {\n          if (valid) {\n            const isEdit = this.dialogType === 'edit'\n            this.user.roleIds = this.checkRoles.join() === \"\" ? null : this.checkRoles.join()\n            this.user.departmentIds = this.departmentIds.join() === \"\" ? null : this.departmentIds.join()\n            if (isEdit) {\n              await updateUser(this.user)\n            } else {\n              await addUser(this.user)\n            }\n\n            // await getAllUser()\n            this.queryTableData(this.currentPage)\n\n            const {account, nickName} = this.user\n            this.dialogVisible = false\n            this.$notify({\n              title: '操作成功',\n              dangerouslyUseHTMLString: true,\n              message: `\n              <div>账号: ${account}</div>\n              <div>昵称: ${nickName}</div>\n            `,\n              type: 'success'\n            })\n          } else {\n            return false\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  $dark_gray: #889aa4;\n\n  .pagination {\n    width: 100%;\n    margin-top: 20px;\n    display: inline-flex;\n    justify-content: center;\n  }\n\n  .QueryForm .el-form-item {\n    margin-bottom: 0;\n  }\n\n  .app-container {\n    .users-table {\n      margin-top: 30px;\n    }\n\n    .permission-tree {\n      margin-bottom: 30px;\n    }\n  }\n\n  .pwd-input {\n    display: inline-block;\n    height: 47px;\n\n    input {\n      background: transparent;\n      border: 0px;\n      border-radius: 0px;\n      padding: 12px 5px 12px 15px;\n      height: 47px;\n    }\n  }\n\n  .show-pwd {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: $dark_gray;\n    cursor: pointer;\n    user-select: none;\n  }\n\n  .svg-container {\n    padding: 6px 5px 6px 15px;\n    color: $dark_gray;\n    vertical-align: middle;\n    width: 30px;\n    display: inline-block;\n  }\n</style>\n"]}]}