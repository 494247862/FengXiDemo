{"remainingRequest":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\babel-loader\\lib\\index.js!D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\svn\\DeyiBaseDemoVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\svn\\DeyiBaseDemoVue\\src\\views\\DepartmentManage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\svn\\DeyiBaseDemoVue\\src\\views\\DepartmentManage\\index.vue","mtime":1686639387782},{"path":"D:\\svn\\DeyiBaseDemoVue\\babel.config.js","mtime":1686639387190},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBZGQgZnJvbSAnQC92aWV3cy9EZXBhcnRtZW50TWFuYWdlL0FkZCc7CmltcG9ydCB7IGdldERlcGFydG1lbnRUcmVlIH0gZnJvbSAnQC9hcGkvZGVwYXJ0bWVudCc7CmltcG9ydCBVcGRhdGUgZnJvbSAnQC92aWV3cy9EZXBhcnRtZW50TWFuYWdlL1VwZGF0ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGVwYXJ0bWVudE1hbmFnZScsCiAgY29tcG9uZW50czogewogICAgVXBkYXRlOiBVcGRhdGUsCiAgICBBZGQ6IEFkZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzU2hvd0FkZDogZmFsc2UsCiAgICAgIGlzU2hvd1VwZGF0ZTogZmFsc2UsCiAgICAgIGNsaWNrUm93OiBudWxsLAogICAgICBUYWJsZURhdGE6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuUXVlcnlUYWJsZURhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIFF1ZXJ5VGFibGVEYXRhOiBmdW5jdGlvbiBRdWVyeVRhYmxlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgZ2V0RGVwYXJ0bWVudFRyZWUoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5UYWJsZURhdGEgPSByZXM7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgIHRpdGxlOiAn6ZSZ6K+vJywKICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5BZGQ6IGZ1bmN0aW9uIG9wZW5BZGQocm93KSB7CiAgICAgIHRoaXMuaXNTaG93QWRkID0gdHJ1ZTsKICAgICAgdGhpcy5jbGlja1JvdyA9IHJvdzsKICAgIH0sCiAgICBvcGVuVXBkYXRlOiBmdW5jdGlvbiBvcGVuVXBkYXRlKHJvdykgewogICAgICB0aGlzLmNsaWNrUm93ID0gcm93OwogICAgICB0aGlzLmlzU2hvd1VwZGF0ZSA9IHRydWU7CiAgICB9LAogICAgY2xvc2VBZGQ6IGZ1bmN0aW9uIGNsb3NlQWRkKCkgewogICAgICB0aGlzLmlzU2hvd0FkZCA9IGZhbHNlOwogICAgICB0aGlzLlF1ZXJ5VGFibGVEYXRhKCk7CiAgICB9LAogICAgLy8g5YWz6Zet57yW6L6R56qX5Y+jCiAgICBjbG9zZVVwZGF0ZTogZnVuY3Rpb24gY2xvc2VVcGRhdGUoKSB7CiAgICAgIHRoaXMuaXNTaG93VXBkYXRlID0gZmFsc2U7CiAgICAgIHRoaXMuUXVlcnlUYWJsZURhdGEoKTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AAEA;EACAA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACA;MACA;QACA;UACAC;UACAC;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA","names":["name","components","Update","Add","data","isShowAdd","isShowUpdate","clickRow","TableData","mounted","methods","QueryTableData","getDepartmentTree","title","message","openAdd","openUpdate","closeAdd","closeUpdate"],"sourceRoot":"src/views/DepartmentManage","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row>\n      <el-card style=\"height: 100%\">\n        <!--        头部-->\n        <div slot=\"header\" style=\"width: 100%;\n        display: flex;align-items: center;\n          justify-content: space-between;\">\n          <div>\n            <i class=\"el-icon-s-grid\"></i>\n            <span style=\"margin-left: 5px;\">部门数据</span>\n          </div>\n          <div>\n            <el-button size=\"small\" type=\"primary\" @click=\"openAdd(null)\">新增</el-button>\n          </div>\n        </div>\n        <!--        数据显示-->\n        <el-table\n          row-key=\"id\"\n          lazy\n          :tree-props=\"{children:'children',hasChildren:true}\"\n          :data=\"TableData\"\n          :header-cell-style=\"{'text-align': 'center'}\"\n          :cell-style=\"{'text-align': 'center'}\"\n          border\n          style=\"width: 100%\">\n          <el-table-column\n            prop=\"departmentCode\"\n            align=\"center\"\n            label=\"部门编号\">\n          </el-table-column>\n\n          <el-table-column\n            prop=\"departmentName\"\n            align=\"center\"\n            label=\"部门名称\">\n          </el-table-column>\n\n          <el-table-column\n            fixed=\"right\"\n            label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-button\n                @click=\"openAdd(scope.row)\"\n                type=\"text\"\n                size=\"mini\">新增子部门\n              </el-button>\n              <el-button\n                @click=\"openUpdate(scope.row)\"\n                type=\"text\"\n                size=\"mini\">编辑\n              </el-button>\n              <el-button\n                style=\"color: red\"\n                type=\"text\"\n                size=\"mini\">删除\n              </el-button>\n            </template>\n          </el-table-column>\n\n        </el-table>\n      </el-card>\n    </el-row>\n    <el-dialog title=\"新增部门\"\n               width=\"25%\"\n               v-if=\"isShowAdd\"\n               :close-on-click-modal=\"false\"\n               :visible.sync=\"isShowAdd\">\n      <Add :row=\"this.clickRow\" :close-fun=\"closeAdd\"/>\n    </el-dialog>\n\n    <el-dialog title=\"编辑部门\"\n               v-if=\"isShowUpdate\"\n               :close-on-click-modal=\"false\"\n               :visible.sync=\"isShowUpdate\"\n               width=\"25%\">\n      <Update :row=\"this.clickRow\" :close-fun=\"this.closeUpdate\"/>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import Add from '@/views/DepartmentManage/Add'\n  import { getDepartmentTree } from '@/api/department'\n  import Update from '@/views/DepartmentManage/Update'\n\n  export default {\n    name: 'DepartmentManage',\n    components: { Update, Add },\n    data() {\n      return {\n        isShowAdd: false,\n        isShowUpdate: false,\n        clickRow: null,\n        TableData: []\n      }\n    },\n    mounted() {\n      this.QueryTableData()\n    },\n    methods: {\n      QueryTableData() {\n        getDepartmentTree().then(res => {\n          this.TableData = res\n        }).catch(err => {\n          this.$notify.error({\n            title: '错误',\n            message: err.message\n          })\n        })\n      },\n      openAdd(row) {\n        this.isShowAdd = true\n        this.clickRow = row\n      },\n      openUpdate(row) {\n        this.clickRow = row\n        this.isShowUpdate = true\n      },\n      closeAdd() {\n        this.isShowAdd = false\n        this.QueryTableData()\n      },\n      // 关闭编辑窗口\n      closeUpdate() {\n        this.isShowUpdate = false\n        this.QueryTableData()\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /*强修改表格展开按钮位置*/\n  >>> .el-table__expand-icon {\n    position: absolute;\n    left: 10px\n  }\n</style>\n"]}]}