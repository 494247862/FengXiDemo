{"remainingRequest":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\babel-loader\\lib\\index.js!D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\svn\\DeyiBaseDemoVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\svn\\DeyiBaseDemoVue\\src\\views\\DepartmentManage\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\svn\\DeyiBaseDemoVue\\src\\views\\DepartmentManage\\index.vue","mtime":1696835888540},{"path":"D:\\svn\\DeyiBaseDemoVue\\babel.config.js","mtime":1686639387190},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\svn\\DeyiBaseDemoVue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRDovc3ZuL0RleWlCYXNlRGVtb1Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3N2bi9EZXlpQmFzZURlbW9WdWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IEFkZCBmcm9tICdAL3ZpZXdzL0RlcGFydG1lbnRNYW5hZ2UvQWRkJzsKaW1wb3J0IHsgZ2V0RGVwYXJ0bWVudFRyZWUsIGRlbGV0ZURlcGFydG1lbnQgYXMgX2RlbGV0ZURlcGFydG1lbnQgfSBmcm9tICdAL2FwaS9kZXBhcnRtZW50JzsKaW1wb3J0IFVwZGF0ZSBmcm9tICdAL3ZpZXdzL0RlcGFydG1lbnRNYW5hZ2UvVXBkYXRlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZXBhcnRtZW50TWFuYWdlJywKICBjb21wb25lbnRzOiB7CiAgICBVcGRhdGU6IFVwZGF0ZSwKICAgIEFkZDogQWRkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTaG93QWRkOiBmYWxzZSwKICAgICAgaXNTaG93VXBkYXRlOiBmYWxzZSwKICAgICAgY2xpY2tSb3c6IG51bGwsCiAgICAgIFRhYmxlRGF0YTogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5RdWVyeVRhYmxlRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgUXVlcnlUYWJsZURhdGE6IGZ1bmN0aW9uIFF1ZXJ5VGFibGVEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBnZXREZXBhcnRtZW50VHJlZSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLlRhYmxlRGF0YSA9IHJlczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgdGl0bGU6ICfplJnor68nLAogICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlRGVwYXJ0bWVudDogZnVuY3Rpb24gZGVsZXRlRGVwYXJ0bWVudChyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuWIoOmZpOivpemDqOmXqO+8n+mDqOmXqOWQje+8micgKyByb3cuZGVwYXJ0bWVudE5hbWUsICfliKDpmaTpg6jpl6gnLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2RlbGV0ZURlcGFydG1lbnQocm93LmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzMi5RdWVyeVRhYmxlRGF0YSgpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgdGl0bGU6ICflpLHotKUnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHt9KTsKICAgIH0sCiAgICBvcGVuQWRkOiBmdW5jdGlvbiBvcGVuQWRkKHJvdykgewogICAgICB0aGlzLmlzU2hvd0FkZCA9IHRydWU7CiAgICAgIHRoaXMuY2xpY2tSb3cgPSByb3c7CiAgICB9LAogICAgb3BlblVwZGF0ZTogZnVuY3Rpb24gb3BlblVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5jbGlja1JvdyA9IHJvdzsKICAgICAgdGhpcy5pc1Nob3dVcGRhdGUgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlQWRkOiBmdW5jdGlvbiBjbG9zZUFkZCgpIHsKICAgICAgdGhpcy5pc1Nob3dBZGQgPSBmYWxzZTsKICAgICAgdGhpcy5RdWVyeVRhYmxlRGF0YSgpOwogICAgfSwKICAgIC8vIOWFs+mXree8lui+keeql+WPowogICAgY2xvc2VVcGRhdGU6IGZ1bmN0aW9uIGNsb3NlVXBkYXRlKCkgewogICAgICB0aGlzLmlzU2hvd1VwZGF0ZSA9IGZhbHNlOwogICAgICB0aGlzLlF1ZXJ5VGFibGVEYXRhKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AAEA;EACAA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACAC;QACA;MACA;QACA;UACAC;UACAC;QACA;MACA;IACA;IACAC;MAAA;MACA;QACAC;QACAC;MACA;QAAA;UAAA;YAAA;cACAF;gBACA;kBACAF;kBACAC;gBACA;gBACA;cACA;gBACA;kBACAD;kBACAC;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CACA,0BAEA;IAEA;IACAI;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA","names":["name","components","Update","Add","data","isShowAdd","isShowUpdate","clickRow","TableData","mounted","methods","QueryTableData","getDepartmentTree","title","message","deleteDepartment","confirmButtonText","cancelButtonText","openAdd","openUpdate","closeAdd","closeUpdate"],"sourceRoot":"src/views/DepartmentManage","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-row style=\"height: calc(100%)\">\n      <el-card style=\"height: 100%\" body-style=\"height: 100%\">\n        <!--        头部-->\n        <div slot=\"header\" style=\"width: 100%;\n        display: flex;align-items: center;\n          justify-content: space-between;\">\n          <div>\n            <i class=\"el-icon-s-grid\"></i>\n            <span style=\"margin-left: 5px;\">部门数据</span>\n          </div>\n          <div>\n            <el-button size=\"small\" type=\"primary\" @click=\"openAdd(null)\">新增</el-button>\n          </div>\n        </div>\n        <!--        数据显示-->\n        <el-table\n          row-key=\"id\"\n          lazy\n          :tree-props=\"{children:'children',hasChildren:true}\"\n          :data=\"TableData\"\n          :header-cell-style=\"{'text-align': 'center'}\"\n          :cell-style=\"{'text-align': 'center'}\"\n          border\n          style=\"width: 100%;height: calc(100% - 60px);overflow-y: auto\">\n          <el-table-column\n            prop=\"departmentCode\"\n            align=\"center\"\n            label=\"部门编号\">\n          </el-table-column>\n\n          <el-table-column\n            prop=\"departmentName\"\n            align=\"center\"\n            label=\"部门名称\">\n          </el-table-column>\n\n          <el-table-column\n            fixed=\"right\"\n            label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-button\n                @click=\"openAdd(scope.row)\"\n                type=\"text\"\n                size=\"mini\">新增子部门\n              </el-button>\n              <el-button\n                @click=\"openUpdate(scope.row)\"\n                type=\"text\"\n                size=\"mini\">编辑\n              </el-button>\n              <el-button\n                style=\"color: red\"\n                type=\"text\"\n                @click=\"deleteDepartment(scope.row)\"\n                size=\"mini\">删除\n              </el-button>\n            </template>\n          </el-table-column>\n\n        </el-table>\n      </el-card>\n    </el-row>\n    <el-dialog title=\"新增部门\"\n               width=\"25%\"\n               v-if=\"isShowAdd\"\n               :close-on-click-modal=\"false\"\n               :visible.sync=\"isShowAdd\">\n      <Add :row=\"this.clickRow\" :close-fun=\"closeAdd\"/>\n    </el-dialog>\n\n    <el-dialog title=\"编辑部门\"\n               v-if=\"isShowUpdate\"\n               :close-on-click-modal=\"false\"\n               :visible.sync=\"isShowUpdate\"\n               width=\"25%\">\n      <Update :row=\"this.clickRow\" :close-fun=\"this.closeUpdate\"/>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import Add from '@/views/DepartmentManage/Add'\n  import {getDepartmentTree, deleteDepartment} from '@/api/department'\n  import Update from '@/views/DepartmentManage/Update'\n\n  export default {\n    name: 'DepartmentManage',\n    components: {Update, Add},\n    data() {\n      return {\n        isShowAdd: false,\n        isShowUpdate: false,\n        clickRow: null,\n        TableData: []\n      }\n    },\n    mounted() {\n      this.QueryTableData()\n    },\n    methods: {\n      QueryTableData() {\n        getDepartmentTree().then(res => {\n          this.TableData = res\n        }).catch(err => {\n          this.$notify.error({\n            title: '错误',\n            message: err.message\n          })\n        })\n      },\n      deleteDepartment(row) {\n        this.$confirm('是否删除该部门？部门名：' + row.departmentName, '删除部门', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消'\n        }).then(async () => {\n          deleteDepartment(row.id).then(res => {\n            this.$notify.success({\n              title: '成功',\n              message: '删除成功'\n            })\n            this.QueryTableData()\n          }).catch(err => {\n            this.$notify.error({\n              title: '失败',\n              message: err.message\n            })\n          })\n        }).catch(err => {\n\n        })\n\n      },\n      openAdd(row) {\n        this.isShowAdd = true\n        this.clickRow = row\n      },\n      openUpdate(row) {\n        this.clickRow = row\n        this.isShowUpdate = true\n      },\n      closeAdd() {\n        this.isShowAdd = false\n        this.QueryTableData()\n      },\n      // 关闭编辑窗口\n      closeUpdate() {\n        this.isShowUpdate = false\n        this.QueryTableData()\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  /*强修改表格展开按钮位置*/\n  >>> .el-table__expand-icon {\n    position: absolute;\n    left: 10px\n  }\n</style>\n"]}]}